<!DOCTYPE html>
  <head>
    <meta charset='utf-8'>
    <title></title>

    <script>
    // https://affiliate.itunes.apple.com/resources/documentation/itunes-store-web-service-search-api/#searchexamples

    function searchCallback(result) {
      output = document.getElementById('outputArea');
      results = result.results;
      for (var r of results) {
        var oneline = document.createElement('div');
        var preview = document.createElement('audio');
        oneline.innerHTML = r["trackName"];
		    oneline.innerHTML += "<br>";
		    // oneline.innerHTML += r["artistName"];
        //AUDIO
        preview.controls = 'controls';
        preview.src = r['previewUrl'];	
        //AUDIO
        oneline.appendChild(preview);
        oneline.innerHTML += "<hr />";
   	    output.appendChild(oneline);

      }
    }
    function clearOUTPUT(){
      document.getElementById('outputArea').innerHTML = '';
    }
    function searchQuery(input){
      clearOUTPUT();
      caller = document.getElementById('caller');
      inputEnc = encodeURIComponent(input);
      caller.src = `https://itunes.apple.com/search?term=${inputEnc}&lang=ja_JP&country=JP&callback=searchCallback&limit=10`;
    }
    </script>

  </head>
  <body>

<div id='status'></div>
<div id='outputArea'></div>

<script id='caller'></script>

  </body>
</html>

